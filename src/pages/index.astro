---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';

import Chip from '@components/Chip.astro';
import CardInsights, { type Props as Insight } from '@/components/CardInsights.astro';

const tools = [
  { name: 'Pallas', link: 'https://github.com/txpipe/pallas' },
  { name: 'Oura v1', link: '/oura/v1' },
  { name: 'Oura v2', link: '/oura/v2' },
  { name: 'Scrolls', link: 'https://github.com/txpipe/scrolls' },
  { name: 'Dolos', link: '/dolos' },
  { name: 'Mumak', link: 'https://github.com/txpipe/mumak' },
  { name: 'Balius', link: '/balius' },
  { name: 'Boros', link: '/boros' },
  // { name: 'CShell', link: 'https://github.com/txpipe/cshell' },
  // { name: 'Griffin', link: 'https://github.com/txpipe/griffin' },
  { name: 'Tx3', link: '/tx3' },
  { name: 'UTxORPC', link: 'https://utxorpc.org/introduction' },
];

const tasks = [
  { name: 'Cardano Data Pipelines', link: '/oura/v2' },
  { name: 'Build a Headless dApp', link: '/balius/tools/cargo-plugin' },
  { name: 'Create Transaction Templates', link: '/tx3/language-guide/templates' },
  { name: 'Submit Transactions', link: '/boros' },
];

const insights: Insight[] = [
  {
    title: 'Substrate node executing Plutus',
    description: 'Probably the first of a kind... a Substrate node executing a Plutus script to validate an UTxO transaction.',
    author: '@santicarmuega',
    authorLink: 'https://x.com/santicarmuega',
    date: new Date('2025-03-28'),
    link: 'https://x.com/santicarmuega/status/1905680639237693656',
    social: 'x',
  },
  {
    title: "We've released Dolos v0.20",
    description: 'A lightweight node for dApp backends. Talks Ouroboros, gRPC & HTTP. Developed in Rust ü¶Ä',
    author: '@txpipe_tools',
    authorLink: 'https://x.com/txpipe_tools',
    date: new Date('2025-04-02'),
    link: 'https://x.com/txpipe_tools/status/1907420964964491288',
    social: 'x',
  },
  {
    title: 'A Headless dApp Framework',
    description: ' Catalyst Demo on how to start building headless Cardano dApps. Scaffold and test a Balius project via CLI.',
    author: '@mduthey',
    authorLink: 'https://x.com/mduthey',
    date: new Date('2025-03-13'),
    link: 'https://youtu.be/yJOaF7r0eyg',
    social: 'youtube',
  },
  {
    title: 'From zero to Dolos on Mainnet',
    description: 'From zero to a running Dolos instance on #Cardano mainnet ‚ö°Ô∏è',
    author: '@santicarmuega',
    authorLink: 'https://x.com/santicarmuega',
    date: new Date('2024-10-17'),
    link: 'https://x.com/santicarmuega/status/1847066612312035360',
    social: 'x',
  },
];
---

<!-- backgrounds -->
<div class="absolute bg-gradients" />

<StarlightPage
  frontmatter={{
    title: '',
    template: 'splash',
    head: [
      { tag: 'title', content: 'TxPipe Docs' },
    ],
    pagefind: false,
  }}
>
  <div class="w-full lg:px-6 min-[1488px]:px-0 not-content">
    <h1 class="text-2xl! font-semibold! text-white!">Welcome to TxPipe Docs</h1>
    <p class="mt-4! text-white/80">Explore our tools, guides, examples, and more.</p>

    <div class="w-full grid grid-cols-1 md:grid-cols-2 gap-8 mt-8!">
      <div class="bg-primary/3 border border-[#1A1919] p-6 rounded-md xl:min-h-69 bg-[url(/assets/bg-by-tool-lines.png)] xl:bg-[url(/assets/bg-by-tool.png)] bg-center bg-cover">
        <h2 class="text-3xl! font-semibold! text-white/90!">By Tool</h2>
        <p class="text-sm mt-2! text-[#F1E9D9]/80! max-w-114.5">From quickstarts to deep dives, on the tools you choose to build your project.</p>
        <div class="mt-6! flex flex-row gap-4 flex-wrap max-w-114.5">
          {tools.map(tool => (
            <Chip value={tool.name} link={tool.link} color="primary" />
          ))}
        </div>
      </div>

      <div class="bg-secondary/3 border border-[#1A1919] p-6 rounded-md xl:min-h-69 bg-[url(/assets/bg-by-task-lines.png)] xl:bg-[url(/assets/bg-by-task.png)] bg-center bg-cover">
        <h2 class="text-3xl! font-semibold! text-white/90!">By Task</h2>
        <p class="text-sm mt-2! text-[#F1E9D9]/80! max-w-114.5">Find the right tool for the job and start building right away.</p>
        <div class="mt-6! flex flex-row gap-4 flex-wrap max-w-114.5">
          {tasks.map(task => (
            <Chip
              value={task.name}
              link={task.link}
              color="secondary"
            />
          ))}
        </div>
      </div>
    </div>

    <div class="relative z-1 mt-6! p-6 rounded-sm flex flex-col md:flex-row items-center justify-center gap-6 border border-[#1A1919] bg-linear-to-r from-[#A9A9A9]/5 from-1% to-[#303030]/5 to-97% before:bg-[url(/assets/bg-banner.png)] before:bg-cover before:absolute before:w-full before:h-full before:-z-1 before:pointer-events-none">
      <div>
        <h2 class="text-white/90! text-2xl! font-semibold!">Not sure where to start?</h2>
        <p class="mt-3! text-[#F1E9D9]/80">Explore the full docs and navigate the tools with ease.</p>
      </div>
      <a href="/balius" class="relative z-1 btn-gradient w-full lg:w-fit py-4 px-6 rounded-full text-base text-center font-semibold text-white bg-linear-to-r from-white/15 from-[-58%] to-[#FF46AC]/15 to-100%">
        Explore the docs!
      </a>
    </div>

    <div class="mt-16!">
      <h2 class="text-lg! font-normal! text-white! border-b border-white/20 pb-1.5 w-fit">Or check out the latest resources.</h2>
      <p class="mt-4! text-[#FFFFFF]/80">Discover tips, demos and updates from the team.</p>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-8!">
        {insights.map(insight => (
          <CardInsights
            title={insight.title}
            description={insight.description}
            author={insight.author}
            authorLink={insight.authorLink}
            date={insight.date}
            link={insight.link}
            social={insight.social}
          />
        ))}
      </div>
    </div>
  </div>
</StarlightPage>

<style is:inline>
  main .content-panel:first-child {
    display: none;
  }
  main .content-panel + .content-panel {
    border: 0;
  }

  .main-frame .main-pane {
    padding-inline-end: 0 !important;
  }

  /* Gradient Backgrounds */
  .bg-gradients {
    width: 100%;
    height: 100%;
    background:
      radial-gradient(50% 50% at 50% 50%, rgba(90, 91, 237, 0.2) 0%, rgba(37, 45, 71, 0) 100%)
      no-repeat top 267px left -189px / 719px 559px,
      radial-gradient(50% 50% at 50% 50%, rgba(90, 91, 237, 0.2) 0%, rgba(37, 45, 71, 0) 100%)
      no-repeat bottom -300px right -382px / 719px 559px,
      radial-gradient(50% 50% at 50% 50%, rgba(130, 29, 182, 0.4) 0%, rgba(37, 45, 71, 0) 100%)
      no-repeat bottom -343px right -818px / 1328px 1153px,
      radial-gradient(50% 50% at 50% 50%, rgba(90, 90, 237, 0.2) 0%, rgba(37, 45, 71, 0) 100%)
      no-repeat bottom -343px right -124px / 719px 624px,
      radial-gradient(50% 50% at 50% 50%, rgba(131, 29, 182, 0.17) 0%, rgba(37, 45, 71, 0) 100%)
      no-repeat bottom -540px right -194px / 719px 624px,
      radial-gradient(50% 50% at 50% 50%, rgba(0, 101, 119, 0.2) 0%, rgba(37, 45, 71, 0) 100%)
      no-repeat bottom -263px left -9px / 687px 771px,
      radial-gradient(50% 50% at 50% 50%, rgb(130, 29, 182, 0.17) 0%, rgba(37, 45, 71, 0) 100%)
      no-repeat bottom -454px left -109px / 687px 771px;
    opacity: 0.5;
    z-index: -1;
  }

  /* Grid overlay starting from the middle of the screen */
  .bg-gradients::after {
    content: "";
    position: absolute;
    left: 61%;
    right: 0;
    top: 327px;
    bottom: 0;
    background:
      linear-gradient(to right, #FFFFFF 1px, transparent 1px) 0 0 / 150px 150px,
      linear-gradient(to bottom, #FFFFFF 1px, transparent 1px) 0 -1px / 150px 150px;
    pointer-events: none;
    opacity: 0.05;
  }
</style>
